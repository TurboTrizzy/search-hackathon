# https://www.mediawiki.org/wiki/Special:MyLanguage/Manual:Pywikibot
import pywikibot
from pywikibot import pagegenerators

site = pywikibot.Site()
repo = site.data_repository()
query = """SELECT ?person_id ?date_of_birth ?date_of_death WHERE {
  ?person_id ?anything "Jane Collier"@en.
  ?person_id wdt:P31 wd:Q5.
  ?person_id wdt:P569 ?date_of_birth .
  ?person_id wdt:P570 ?date_of_death .
  
FILTER ( ?date_of_death < "1 January 1800" 
)
}"""
generator = pagegenerators.WikidataSPARQLPageGenerator(query, site=repo)

for item in generator:
    print(item)
